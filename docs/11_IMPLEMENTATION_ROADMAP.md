# 11 — 実装ロードマップ・検証計画・KPI

## 1. 開発フェーズ概要

```
     Phase 0        Phase 1         Phase 2         Phase 3
    音声保存先行      MVP            拡張           最適化・普及
   ├──────────┼───────────┼───────────┼───────────┤
   0ヶ月       3ヶ月       9ヶ月      15ヶ月       24ヶ月
```

---

## 2. Phase 0: 音声保存先行（0〜3ヶ月）

プロダクト開発と並行して、タイムクリティカルな音声保存を先行開始する。

### 2.1 成果物

```
✅ 録音ガイドブック（PDF）
  - 録音環境のセットアップ手順
  - 読み上げ文章セット（日本語音素網羅版）
  - 自由会話のトピック提案リスト

✅ 簡易録音アプリ（スマートフォン）
  - ガイド付き録音セッション
  - 音量・ノイズの品質チェック
  - セッション管理と進捗表示

✅ データ保管インフラ
  - 暗号化クラウドストレージ
  - 家族との共有機能
  - 将来のシステム統合への引き継ぎパス

✅ 医療機関連携の開始
  - 協力医（神経内科）の確保
  - 言語聴覚士（ST）との連携体制
```

### 2.2 ターゲット

- 診断後3ヶ月以内のALS患者 5名以上に録音パッケージを提供
- 構音障害進行前の音声データを確保

---

## 3. Phase 1: MVP（3〜9ヶ月）

### 3.1 MVPスコープ

```
含む:
  ✅ Webカメラ視線推定（ゾーンベース、4〜9ゾーン）
  ✅ ピエゾ指入力（シングルタップ/ダブルタップ/ロングプレス）
  ✅ 基本的な候補生成（クラウドLLM、PVPなし）
  ✅ 定型文選択（カスタマイズ可能）
  ✅ 2ストローク文字入力
  ✅ 緊急コール（トリプルタップ → 介護者通知）
  ✅ 基本的な介護者アプリ（通知+発話ログ）
  ✅ 市販音声合成（本人の声ではない）

含まない（Phase 2以降）:
  ❌ PVP構築・活用
  ❌ リスニングモード
  ❌ 感情検出（パッシブ）
  ❌ 外部環境認識
  ❌ 意図軸分散ナビゲーション
  ❌ 本人の声での音声合成
  ❌ オフラインモード
  ❌ 長文モード
```

### 3.2 技術タスク

```
[視線推定エンジン]
  - MediaPipe Face Mesh統合
  - 軽量CNN視線推定モデルの選定・統合
  - キャリブレーション機能
  - ゾーンマッピング + ヒステリシス
  - スムージングフィルタ

[指入力ドライバ]
  - ピエゾ素子のUSB HID接続
  - タップ/ダブルタップ/ロングプレスの検出
  - 感度調整UI
  - 基本的なデバウンスフィルタ

[候補生成]
  - クラウドLLM API統合（Claude API）
  - 基本プロンプト設計（PVPなし、状況コンテキストのみ）
  - 候補4つの生成と表示
  - ローカル定型文DB

[患者UI]
  - Electronアプリのフレームワーク
  - フローティングバブルUI
  - 文字入力画面（2ストローク方式）
  - 設定画面
  - 緊急画面

[介護者アプリ]
  - PWA（スマートフォン向け）
  - プッシュ通知（緊急/通常）
  - 発話ログ表示
  - 基本的な状態表示

[インフラ]
  - LLM API接続のバックエンド
  - WebSocket通信（患者端末↔介護者端末）
  - 基本的なユーザー管理
```

### 3.3 ユーザーテスト

```
テスト参加者: ALS患者 3〜5名（Stage 1〜2）
テスト期間: 2週間
テスト環境: 自宅（訪問セットアップ）
計測項目:
  - セットアップ所要時間
  - キャリブレーション成功率
  - 定型文選択の速度と正確性
  - 文字入力の速度（文字/分）
  - 候補命中率（1巡目で選ばれた割合）
  - 1日の発話数
  - SUS（System Usability Scale）スコア
  - 患者・介護者の定性フィードバック
```

---

## 4. Phase 2: 拡張（9〜15ヶ月）

### 4.1 機能追加

```
[PVPシステム]
  - データソースコネクタ（Gmail API, LINEエクスポート）
  - 抽出パイプライン（正規化→サンプリング→パターン抽出）
  - PVP管理UI（確認・編集）
  - PVP活用の候補生成プロンプト

[意図軸ナビゲーション]
  - 7軸フレームワークの実装
  - 視線滞留フィードバック
  - 多巡ナビゲーションロジック
  - バリエーション展開（ロングプレス）

[リスニングモード]
  - 音声認識（Whisper API）統合
  - 話者認識
  - 相手の発話からの返答候補自動生成

[感情検出]
  - パーソナルベースラインのキャリブレーション
  - Layer 1（眼球周辺）の感情推定
  - Layer 2（顔面微細）の感情推定
  - valence/arousal/confidenceの出力
  - フラストレーション検出 + エスケープUI

[音声合成]
  - 本人の声のクローンモデル構築
  - トーン制御（相手別・感情別）
  - Phase 0で録音した音声データの活用

[環境認識]
  - 人物認識（顔登録・自動切替）
  - 基本的な物体認識
  - マイクによる環境音分類

[介護者機能拡張]
  - YesNo質問モード
  - 引き継ぎサマリ自動生成
  - 医師向けレポート出力
  - 状態サマリ画面
```

### 4.2 ユーザーテスト（拡大）

```
テスト参加者: ALS患者 10〜15名（Stage 1〜3）
テスト期間: 1ヶ月
追加計測項目:
  - PVP活用時の候補命中率向上度
  - リスニングモードの使用頻度と有効性
  - 感情検出の精度（主観評価との相関）
  - 意図到達時間の改善
  - 介護者の負担感変化
```

---

## 5. Phase 3: 最適化・普及（15〜24ヶ月）

### 5.1 機能追加・最適化

```
[オフライン耐性]
  - オンデバイスLLM（Phi-3/Llama-3-8B）の統合
  - オンデバイスASR（Whisper small）の統合
  - ローカル通知（BLE/WiFi Direct）
  - オフライン/オンライン自動切替

[進行度適応]
  - チャネル信頼性の自動評価と重み再配分
  - まばたき入力モードの実装
  - Stage別パラメータ自動調整

[二段構成推論]
  - ローカルLLM即座候補 → クラウドLLM高品質候補の切替
  - 先読みプリフェッチ

[長文モード]
  - LLMコラボレーション型下書き生成
  - 部分修正UI
  - メール/手紙送信連携

[夜間モード]
  - 低照度対応
  - 近赤外LED補助（オプション）
  - 代替入力の優先度変更

[パフォーマンス最適化]
  - 視線推定の推論速度改善
  - メモリ使用量の削減
  - バッテリー消費の最適化
```

### 5.2 普及活動

```
- ALS協会との連携
- 難病支援センターへの紹介
- 医療機器としての認証検討
- 福祉機器展示会への出展
- 論文発表（HCI/Assistive Technology分野）
- オープンソース化の検討（コアコンポーネント）
```

---

## 6. KPI（重要業績評価指標）

### 6.1 主要KPI

| KPI | 定義 | Phase 1目標 | Phase 2目標 | Phase 3目標 |
|---|---|---|---|---|
| 意図到達時間 | 言いたいことが伝わるまでの平均秒数 | 15秒 | 5秒 | 3秒 |
| 候補1巡目命中率 | 最初の4候補で選択された割合 | 30% | 55% | 65% |
| 1日の発話数 | 患者が1日に発話した回数 | 15回 | 30回 | 50回 |
| 眼球疲労スコア | 主観評価（1〜10、低いほど良い） | 6 | 4 | 3 |
| 誤選択率 | 意図しない候補を確定してしまった割合 | 10% | 5% | 3% |
| 介護者満足度 | NPS（Net Promoter Score） | 30 | 50 | 70 |
| 患者満足度 | カスタム満足度調査（1〜5） | 3.0 | 3.8 | 4.2 |

### 6.2 技術KPI

| KPI | 定義 | 目標 |
|---|---|---|
| 視線推定ゾーン精度 | 正しいゾーンを判定した割合 | 90%以上 |
| レイテンシ（ローカル候補） | トリガーから候補表示まで | 200ms以下 |
| レイテンシ（クラウド候補） | トリガーから候補表示まで | 2秒以下 |
| オフライン動作率 | ネットワーク断時に動作する機能の割合 | 70%以上 |
| カメラ処理FPS | 視線推定+表情追跡の処理速度 | 25fps以上 |
| PVP抽出精度 | 家族が「らしい」と評価した割合 | 80%以上 |
| 感情検出精度 | valence方向の正答率（快/不快/中立の3分類） | 70%以上 |
| 音声合成自然性 | MOS（Mean Opinion Score） | 3.5以上 |

### 6.3 ビジネスKPI

| KPI | Phase 1 | Phase 2 | Phase 3 |
|---|---|---|---|
| ユーザー数（患者） | 5 | 30 | 100 |
| 利用継続率（3ヶ月） | 60% | 75% | 85% |
| 平均日次セッション時間 | 1時間 | 3時間 | 6時間以上 |
| 連携医療機関数 | 2 | 10 | 30 |
| 介護者アプリDAU | 5 | 50 | 200 |

---

## 7. 検証方法論

### 7.1 定量評価

```
A/Bテスト:
  - PVPあり vs PVPなし → 候補命中率の差
  - 意図軸分散あり vs なし → 意図到達時間の差
  - 感情フィードバックあり vs なし → 多巡ナビゲーション効率

シングルケースデザイン:
  - ALS患者1名ごとのベースライン→介入→フォローアップ
  - 個人内での改善を統計的に検証（反復測定）
  - 進行度の異なる患者で横断的に比較
```

### 7.2 定性評価

```
半構造化インタビュー:
  - 患者: 使い心地、「自分らしさ」の感覚、不満点
  - 介護者: 負担感の変化、コミュニケーション品質の変化
  - 医療者: 診療への有用性、レポートの活用度

エスノグラフィー:
  - 自宅での実際の使用場面を観察
  - ビデオ記録（同意のもと）による行動分析
  - 想定外の使い方の発見
```

### 7.3 倫理審査

```
必要な倫理審査:
  - 大学または研究機関のIRB（倫理審査委員会）承認
  - 患者の同意取得プロセスの承認
  - データ取り扱いの安全性審査
  - 脆弱な集団（重度障害者）を対象とする研究の特別配慮
```

---

## 8. リスクと緩和策

| リスク | 影響 | 確率 | 緩和策 |
|---|---|---|---|
| Webカメラ視線推定の精度不足 | 高 | 中 | ゾーン数削減で対応。最悪の場合は安価な赤外線LED追加 |
| LLM候補が的外れ | 高 | 中 | PVP改善+フォールバック充実。定型文を最終防衛線に |
| 患者のモチベーション低下 | 高 | 中 | オンボーディング改善、初期成功体験の設計 |
| 介護者の導入抵抗 | 中 | 高 | 介護者の負担軽減を体感できるデモ、段階的導入 |
| 音声保存が間に合わない | 高 | 中 | Phase 0で先行開始。既存音声データの活用 |
| プライバシー懸念 | 高 | 中 | ローカルファースト設計。透明性の確保 |
| コスト（LLM API使用料） | 中 | 中 | オンデバイスLLMの活用。API使用の最適化 |
| 規制（医療機器該当性） | 中 | 低 | 早期に規制当局と相談。非医療機器としての位置づけ検討 |

---

## 9. チーム構成（理想）

```
コアチーム（6名）:
  - プロダクトマネージャー（PM）: 1名
  - フロントエンドエンジニア: 1名（Electron/React + UI）
  - MLエンジニア: 2名（視線推定 + 感情検出 + LLM統合）
  - バックエンドエンジニア: 1名（API + インフラ）
  - ハードウェアエンジニア: 1名（指入力デバイス + カメラ設定）

アドバイザー:
  - 神経内科医
  - 言語聴覚士（ST）
  - ALS患者の家族（当事者視点）
  - HCI研究者
  - 医療倫理の専門家

Phase 2以降の追加:
  - モバイルエンジニア: 1名（介護者アプリ）
  - QAエンジニア: 1名
  - デザイナー: 1名（UI/UX）
```
