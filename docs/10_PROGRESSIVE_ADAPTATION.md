# 10 — 進行度適応戦略・パーソナルベースライン

## 1. ALS進行の概要とシステム適応

### 1.1 ALSの典型的な進行パターン

```
Stage 1: 初期（発症〜1-2年）
  - 四肢の一部に筋力低下
  - 指の巧緻性がやや低下
  - 発話は正常〜軽度の構音障害
  - 表情筋はほぼ正常

Stage 2: 中期（1-3年）
  - 筋力低下の広がり
  - 指の動きが微小化
  - 構音障害の進行
  - 表情筋の部分的低下

Stage 3: 進行期（2-5年）
  - 四肢の随意運動がほぼ消失
  - 指の微小な動きのみ残存
  - 発話不能
  - 表情筋の著しい低下、眼球運動は残存

Stage 4: TLS（Totally Locked-in State）
  - 全随意運動の消失
  - 眼球運動も低下
  - コミュニケーション手段が極めて限られる

※進行速度には大きな個人差がある
```

### 1.2 VoiceReachの適応マッピング

| 患者の状態 | 入力方式 | 候補生成 | 感情検出 | 音声出力 |
|---|---|---|---|---|
| Stage 1 | 目+指（フル） | AI先読み | 全Layer | 本人の声（生） |
| Stage 2 | 目+指（感度UP） | AI先読み+リスニング | Layer 1-2中心 | 本人の声（生→合成切替） |
| Stage 3 | 目+微小指 or まばたき | リスニング+パッシブ重視 | Layer 1+3中心 | 音声合成 |
| Stage 4 | まばたき or パッシブのみ | パッシブ重視+YesNo | Layer 3中心 | 音声合成 |

---

## 2. 入力チャネルの段階的移行

### 2.1 指入力の適応

```
[感度の自動調整]

  患者のタップ圧力を継続的にモニタリング
  ↓
  過去30日の圧力分布を算出
  ↓
  圧力が低下傾向 → 閾値を自動で下方修正
  ↓
  最小圧力が閾値に近づく → アラート
  → 装着位置の変更を提案
  → まばたき入力への準備を開始

[不随意運動フィルタの進化]

  Stage 1: デバウンス 100ms
  Stage 2: デバウンス 150ms + 圧力波形パターン認識
  Stage 3: デバウンス 200ms + 視線ゲーティング + 波形認識
```

### 2.2 視線入力の適応

```
[ゾーン数の動的調整]

  追跡精度が安定 → 9〜16ゾーン（細かい操作可能）
  精度がやや低下 → 4〜9ゾーン
  精度が大幅低下 → 2〜4ゾーン
  追跡不能       → まばたきのみ

[眼球運動範囲の適応]

  眼球運動が十分 → 画面全体を使用
  運動範囲が縮小 → UIを中央に集約
  ほぼ正面のみ   → 正面の小さな領域にUI配置
```

### 2.3 まばたき入力への移行

```
指入力が不能になった場合のフォールバック:

  シングルまばたき（強い意図的まばたき）
    → 選択確定

  ダブルまばたき（0.5秒以内に2回）
    → 戻る/キャンセル

  ロングクローズ（2秒以上の閉眼）
    → メニュー/バリエーション展開

  トリプルまばたき（1秒以内に3回）
    → 緊急コール

課題:
  - 通常のまばたきと意図的まばたきの区別
  - まばたきの検出精度（閉眼中は視線追跡不能）
  - 操作速度の低下（まばたきはタップより遅い）

対策:
  - 「強いまばたき」のパターンを個人学習
  - まばたき検出と視線追跡の時分割処理
  - AI候補生成への依存度を上げ、操作回数を最小化
```

---

## 3. 感情検出チャネルの動的管理

### 3.1 チャネル信頼性の自動評価

```
月次で各チャネルの「有効性」を評価する。

評価方法:
  1. 過去30日間の各チャネルの信号振幅を算出
  2. ベースラインとの比較で「変化検出力」を定量化
  3. S/N比が閾値以下 → チャネルを「低信頼」に降格
  4. 3ヶ月連続で低信頼 → チャネルを「無効」に設定
  5. 無効化されたチャネルの重みを残存チャネルに再配分

再配分の例:

  [6ヶ月前]                    [現在]
  口角変化:    重み 0.20  →   重み 0.00 (無効)
  眉の動き:    重み 0.15  →   重み 0.05 (低信頼)
  瞼の開き:    重み 0.15  →   重み 0.20 (+)
  まばたき:    重み 0.15  →   重み 0.25 (+)
  瞳孔径:      重み 0.10  →   重み 0.20 (+)
  視線安定度:   重み 0.10  →   重み 0.15 (+)
  rPPG:        重み 0.10  →   重み 0.10
  顔面血流:    重み 0.05  →   重み 0.05
```

### 3.2 移行アラートと家族への通知

```
チャネル無効化時:
  1. 管理ダッシュボードに通知
  2. 介護者に「表情読み取りの精度が変化しました」と説明
  3. 医師向けレポートに記録
  4. 残存チャネルでの推定精度を表示

例: "口角の動きによる感情推定が困難になりました。
     現在は目の動き・まばたき・心拍の変化を中心に
     感情を推定しています。推定精度はやや低下しています。"
```

---

## 4. 候補生成戦略の進行度適応

### 4.1 Stage別の候補生成方針

```
Stage 1（操作余力あり）:
  - 4候補を意図軸分散で提示
  - 多巡ナビゲーションをフル活用
  - 自由入力も積極的に使用
  - 長文モードも利用可能

Stage 2（操作余力が限定的）:
  - 4候補の命中率を重視（冒険的な候補を減らす）
  - リスニングモードの使用頻度を上げる
  - 定型文のカスタマイズを充実

Stage 3（最小限の操作）:
  - 2〜3候補に削減（選択肢の認知負荷を下げる）
  - リスニングモード中心
  - パッシブ検出の活用
  - 緊急候補を常に表示

Stage 4（TLS）:
  - YesNo方式を中心
  - パッシブ感情検出による状態推定
  - 介護者主導のコミュニケーション支援
  - BCI（Brain-Computer Interface）との将来的連携
```

### 4.2 予測精度と操作負荷のトレードオフ

```
Stage 1では:
  高い多様性（意図軸分散）→ 命中率40〜60% → 2巡程度で到達
  ↓
  操作余力があるので、2〜3巡のナビゲーションは許容

Stage 3では:
  高い命中率重視 → 命中率70〜80%を目標 → 1巡で到達
  ↓
  操作余力が少ないので、1回で当てる必要がある
  → 多様性を犠牲にしても確実性を優先
  → 状況コンテキストへの依存度UP
  → PVPの頻出パターンを優先
```

---

## 5. オンボーディング設計

### 5.1 導入フロー

```
Day 1: 最小セットアップ（30分）
  - カメラの設置と視線キャリブレーション
  - 指センサーの装着と感度調整
  - 基本操作の説明（チラ見+タップ、ダブルタップ）
  - 定型文10件の登録（最もよく使うフレーズ）
  → この日から基本的なコミュニケーションが可能

Week 1: 基本機能の習熟
  - 毎日10〜15分の練習セッション
  - ゾーン選択の精度向上
  - 候補選択の操作に慣れる
  - 疲労度に応じた休憩の取り方を学ぶ

Week 2-3: PVP構築と高度機能
  - データソースの接続（Gmail, LINE等）
  - PVPの初期生成と確認
  - リスニングモードの有効化
  - 介護者アプリのセットアップ

Month 2: 最適化
  - PVPの微調整（「こう言わない」等のフィードバック）
  - 候補命中率のモニタリングと改善
  - パーソナルベースラインの初回確立
  - 定型文の追加・修正
```

### 5.2 段階的機能開放

```
Level 1（初日〜）: 
  ✅ 定型文選択
  ✅ 基本文字入力
  ✅ 緊急コール

Level 2（1週間後〜）:
  ✅ AI候補生成
  ✅ フローティングバブルUI
  ✅ 介護者通知

Level 3（2週間後〜）:
  ✅ リスニングモード
  ✅ PVP活用候補
  ✅ 意図軸ナビゲーション

Level 4（1ヶ月後〜）:
  ✅ パッシブ感情検出
  ✅ 環境認識統合
  ✅ 長文モード
  ✅ 音声合成（本人の声）
```

### 5.3 既存装置からの移行

```
伝の心/レッツチャットからの移行:
  - 既存の定型文セットをインポート
  - 操作体系の違いを丁寧に説明
  - 並行使用期間を設ける（2週間程度）
  - 既存装置をバックアップとして残す

Tobii PCEyeからの移行:
  - Dwell Click → チラ見+タップ への操作変更
  - 視線追跡精度の違い（専用機→Webカメラ）に注意
  - ゾーンベース設計の利点を体験してもらう
  - 精度に不満がある場合はゾーン数を減らして対応
```

### 5.4 介護者の同時オンボーディング

```
介護者が学ぶべきこと:
  1. 患者が操作中に邪魔しない配慮
     - カメラの前を横切らない
     - 操作中に話しかけるタイミング
  2. 介護者アプリの操作
     - 通知の確認方法
     - YesNo質問モードの使い方
  3. トラブルシューティング
     - キャリブレーションの再実行方法
     - システムの再起動方法
  4. 感情データの解釈
     - 数値の見方
     - 過度に依存しない（あくまで参考値）
```

---

## 6. パーソナルベースラインの運用

### 6.1 ベースライン更新サイクル

```
日次:
  - その日の各チャネルの統計値を記録
  - 疲労パターンの時間帯別プロファイルを更新

週次:
  - 日次データの傾向分析
  - 異常値の検出とフラグ付け

月次:
  - チャネル信頼性スコアの再計算
  - 重み配分の更新
  - 閾値の再調整
  - 管理ダッシュボードに進行レポートを出力

四半期:
  - 半年間のトレンド分析
  - 機能レベルの見直し
  - 入力方式の変更提案（必要な場合）
```

### 6.2 「いい日/悪い日」への対応

ALS患者の状態は日によって変動する。

```
体調が良い日:
  - 操作の反応速度が向上
  - 視線追跡精度が向上
  - まばたき頻度が安定
  → システムは自動的にゾーン数を増やす等の最適化

体調が悪い日:
  - 反応速度の低下
  - 視線のブレが増加
  - 疲労の早期出現
  → ゾーン数削減、候補数削減、休憩提案の頻度UP
  → 定型文モードへの切替を早期に提案

検出方法:
  セッション開始時の最初の数回の操作で
  その日の状態を推定し、パラメータを動的調整
```
